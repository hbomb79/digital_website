// HexSlide Version beta 1.3 | Copyright (C) 2015 HexCode, Harry Felton.
var _G=_G?_G:!1;!function(a,b){_G||(_G={},_G.preserve={},_G.variable={}),_G.variable.last_slide_id=0,_G.preserve.slide_done=_G.preserve.slide_done?!0:!1;var e=[],f=[];a.fn.hexSlide=function(c){function t(b){var d;d=a("#hexslide-"+b+"-container"),c.autoPlay&&(e[b]&&clearInterval(e[b]),e[b]=setInterval(function(){w.call(d.find(".hexslide-slide-container"),!0)},c.interval))}function u(a){clearTimeout(e[a])}function v(b){if(c.navigation){var d,e,f,h;d=a("<div></div>",{"class":"slide-btn right","data-slide-direction":"forward"}),e=a("<div></div>",{"class":"slide-btn left","data-slide-direction":"backward"}),f=a("<span></span>",{text:"NEXT"}),h=a("<span></span>",{text:"BACK"}),c.additionalCSS.nextBtn&&d.addClass(c.additionalCSS.nextBtn),c.additionalCSS.nextTxt&&d.addClass(c.additionalCSS.nextTxt),c.additionalCSS.prevBtn&&d.addClass(c.additionalCSS.prevBtn),c.additionalCSS.prevTxt&&d.addClass(c.additionalCSS.prevTxt),c.alwaysShowNav||(d.addClass("hide"),e.addClass("hide")),f.appendTo(d),h.appendTo(e),d.appendTo(g),e.appendTo(g)}if(c.indicators){var i,k;i=a("<div></div>",{"class":"indicator-container"}),k=b;for(var l=0;l<k.length;l++){var m=a("<span></span>",{"class":"indicator","data-hexslide-id":l}).appendTo(i);0==l&&m.addClass("active")}c.alwaysShowNav||i.addClass("hide"),i.appendTo(g)}}function w(b){b||clearInterval(e[a(this).parents(".hexslide").attr("id").split("-")[1]]);var d=a(this).parents(".hexslide").find(".slide:first"),f=d.data("hexslide-id");f++,f>a(this).parents(".hexslide").find(".slide").length-1&&(f=0),"slide"==c.animation?(d.stop().animate({left:l/-1},c.speed,function(){a(this).hide()}),a(this).parents(".hexslide").find(".slide").filter(function(){return a(this).data("hexslide-id")==f}).stop().css("left",l).show().animate({left:0},c.speed).insertBefore(d)):(d.stop().fadeOut(c.speed),a(this).parent(".hexslide").find(".slide").filter(function(){return a(this).data("hexslide-id")==f}).fadeIn(c.speed).insertBefore(d)),c.stopAutoOnNav?(a(this).parents(".hexslide").removeClass("hexslide-hover"),u(a(this).parents(".hexslide").attr("id").split("-")[1])):b||!c.autoPlay||c.pauseOnHover||(u(a(this).parents(".hexslide").attr("id").split("-")[1]),t(a(this).parents(".hexslide").attr("id").split("-")[1]));var g=a(this).parents(".hexslide").find(".slide:first").data("hexslide-id");x(g,this)}function x(b,c){a(c).siblings(".indicator-container").find(".indicator.active").removeClass("active"),a(c).siblings(".indicator-container").find(".indicator").filter(function(){return a(this).data("hexslide-id")==b}).addClass("active")}function y(){var b,d,e;e=a(this).data("hexslide-id"),b=a(this).parents(".hexslide").find(".slide:first"),d=b.data("hexslide-id"),c.animation?(b.stop().animate({left:l/-1},c.speed,function(){a(this).hide()}),a(this).parents(".hexslide").find(".slide").filter(function(){return a(this).data("hexslide-id")==e}).stop().css("left",l).show().animate({left:0},c.speed).insertBefore(b)):(b.stop().fadeOut(c.speed),a(this).parents(".hexslide").find(".slide").filter(function(){return a(this).data("hexslide-id")==e}).stop().fadeIn(c.speed).insertBefore(b)),x(e,b.parent(".hexslide-slide-container")),c.autoPlay&&!c.pauseOnHover&&(u(a(this).parents(".hexslide").attr("id").split("-")[1]),t(a(this).parents(".hexslide").attr("id").split("-")[1]))}function z(b){b||clearInterval(e[a(this).parents(".hexslide").attr("id").split("-")[1]]);var d=a(this).parents(".hexslide").find(".slide:first"),f=d.data("hexslide-id");f--,0>f&&(f=a(this).parents(".hexslide").find(".slide").length,f-=1),"slide"==c.animation?(d.stop().animate({left:l},c.speed,function(){a(this).hide()}),a(this).parents(".hexslide").find(".slide").filter(function(){return a(this).data("hexslide-id")==f}).stop().css({left:l/-1}).show().animate({left:0},c.speed).insertBefore(d)):(d.stop().fadeOut(c.speed),a(this).parent(".hexslide").find(".slide").filter(function(){return a(this).data("hexslide-id")==f}).fadeIn(c.speed).insertBefore(d)),c.stopAutoOnNav?(a(this).parents(".hexslide").removeClass("hexslide-hover"),u(a(this).parents(".hexslide").attr("id").split("-")[1])):c.autoPlay&&!c.pauseOnHover&&(u(a(this).parents(".hexslide").attr("id").split("-")[1]),t(a(this).parents(".hexslide").attr("id").split("-")[1]));var g=a(this).parents(".hexslide").find(".slide:first").data("hexslide-id");x(g,this)}c=a.extend(!0,{},a.fn.hexSlide.defaults,c);var d,g,h,i,k,l,m,n,j=this.filter(function(){return a(this).data("slideshow-src")});k=_G.variable.last_slide_id?_G.variable.last_slide_id:0;for(var o=0;o<j.length;o++){h=j[o],i=a(h);var p=o+k;l=i.outerWidth(),n=i.outerHeight(),g=a("<div></div>",{id:"hexslide-"+p+"-container","class":"hexslide"}),c.additionalClass.container&&g.addClass(c.additionalClass.container),c.additionalCSS.container&&g.css(c.additionalCSS.container),g.addClass("hexslide-hover"),m=a("<div></div>",{"class":"hexslide-slide-container"}),f[p]=i.data("slideshow-src").split("|");var q=[];q[0]=i.attr("src");var r=[];r=i.data("slideshow-src").split("|");for(var o=0;o<r.length;o++)q.push(r[o]);v(q),d=a("<div></div>",{"class":"slide",css:{"background-image":"url("+i.attr("src")+")"},"data-hexslide-id":0}).appendTo(m),c.additionalClass.slide&&d.addClass(c.additionalClass.slide),c.additionalCSS.slide&&d.css(c.additionalCSS.slide);for(var o=1,s=0;s<f[p].length;s++)d=a("<div></div>",{"class":"slide",css:{"background-image":"url("+f[p][s]+")"},"data-hexslide-id":o}).appendTo(m),c.additionalClass.slide&&d.addClass(c.additionalClass.slide),c.additionalCSS.slide&&d.css(c.additionalCSS.slide),o++;m.appendTo(g),i.replaceWith(g),a("#hexslide-"+p+"-container").children(".hexslide-slide-container").children(".slide:gt(0)").hide(),k++,_G.variable.last_slide_id=k,t(p)}a(b).on("aj_start",function(){for(var a=0;a<e.length;a++)clearTimeout(e[a])}),_G.preserve.slide_done||(_G.preserve.slide_done=!0,a("body").on("mouseenter",".hexslide.hexslide-hover",function(){c.pauseOnHover&&u(a(this).attr("id").split("-")[1]),c.alwaysShowNav||(a(this).find(".slide-btn").removeClass("hide"),c.indicators&&a(this).find(".indicator-container").removeClass("hide"))}).on("mouseleave",".hexslide.hexslide-hover",function(){c.pauseOnHover&&t(a(this).attr("id").split("-")[1]),c.alwaysShowNav||(a(this).find(".slide-btn").addClass("hide"),c.indicators&&a(this).find(".indicator-container").addClass("hide"))}),a("body").on("click",".slide-btn",function(){var c;c=a(this).data("slide-direction"),"forward"==c?w.call(this):"backward"==c&&z.call(this)}),c.indicators&&a("body").on("click",".indicator",function(){y.call(this)})),"function"==typeof c.callback.start&&c.callback.start()},a.fn.hexSlide.defaults={interval:3e3,speed:500,pauseOnHover:!0,autoPlay:!0,navigation:!0,alwaysShowNav:!1,stopAutoOnNav:!1,indicators:!0,animation:"fade",additionalClass:{slide:!1,container:!1},additionalCSS:{slide:!1,container:!1},callback:{start:function(){}}}}(jQuery,window,document);